<p id="Slug">7-best-practices-for-continuous-monitoring-with-azure-monitor</p>
<p id="Title">Seven best practices for Continuous Monitoring with Azure Monitor</p>
<p id="Summary">Whether you are a developer, SRE, IT Ops specialist, PM or a DevOps practitioner, monitoring is something you definitely care about! Azure Monitor is Microsoft’s unified monitoring solution that provides full-stack observability across applications and infrastructure. Learn about some best practices for a successful monitoring strategy on hybrid/public cloud!</p>
<p id="Content"><p>Whether you are a developer, site reliability engineer, IT Ops specialist, program manager, or a DevOps practitioner monitoring is something you definitely care about! With modern applications evolving from an on-premises world to becoming more hybrid or microservices based, there is also a need to evolve skill sets and adopt some best practices for a successful monitoring strategy on a hybrid/public cloud.</p>

<p><a href="https://azure.microsoft.com/services/monitor/">Azure Monitor</a> is Microsoft&rsquo;s unified monitoring solution that provides full-stack observability across applications and infrastructure. Depending on the hat you are wearing at the moment, you can start with end-to-end visibility across the health of your resources, drill down to the most probable root cause of a problem, even to actual lines of code, fix the issue in your app or infrastructure, and re-deploy in a matter of minutes. If you have a robust monitoring pipeline setup, you should be able to find and fix issues way before it starts impacting your customers.</p>

<h2>Continuous Monitoring</h2>

<p>Many of you already know how Continuous Integration and Continuous Deployment (CI/CD) as a DevOps concept can help you deliver software faster and more reliably to provide continuous value to your users. Continuous Monitoring (CM) is a new follow-up concept where you can incorporate monitoring across each phase of your DevOps and IT Ops cycles. This ensures the health, performance, and reliability of your apps and infrastructure continuously as it flows through the developer, production, and customers.</p>

<p><img alt="Continuous Monitoring with Azure Monitor and Azure DevOps" border="0" height="308" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4775d0d3-aad0-4c19-9274-d9a21fa7b5e3.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Continuous Monitoring for DevOps" width="610"></p>

<p>Azure Monitor is one such tool that can really enable Continuous Monitoring throughout your workflows. It works seamlessly with <a href="https://visualstudio.microsoft.com/">Visual Studio and Visual Studio Code</a> during development and tests, while also integrating with <a href="https://azure.microsoft.com/services/devops/">Azure DevOps</a> for release management and work item management during deployment and operations. It even integrates across the ITSM and SIEM tools of your choice to help track issues and incidents within your existing IT processes.</p>

<h2>Seven best practices for Continuous Monitoring</h2>

<h3>Enable monitoring for <em>all</em> your apps</h3>

<p>The first step for full observability is to enable monitoring across all your web apps and services. If you are working in code, you should <a href="https://docs.microsoft.com/azure/azure-monitor/">add Azure Monitor Application Insights SDKs</a> to your apps written in .NET, Java, Node.js, or any other programming languages. This is the recommended way since now you can also specify any custom events, metrics, or page views that are relevant to your app or business.</p>

<p>If you don&rsquo;t have access to the code, there are many other mechanisms to enable monitoring, <a href="https://docs.microsoft.com/azure/application-insights/app-insights-vsts-continuous-monitoring">release templates in Azure Pipelines</a>, <a href="https://azure.microsoft.com/features/devops-projects/">Azure DevOps projects</a>, <a href="https://docs.microsoft.com/en-us/azure/application-insights/app-insights-monitor-performance-live-website-now?toc=/azure/azure-monitor/toc.json">the status monitor for .NET apps on Windows Servers</a>, extensions in Azure VMs or Azure App Services, and more. Once you have monitoring enabled across all your apps you can easily visualize end-to-end transactions and connections across all the components.</p>

<h3>Enable monitoring for <em>all </em>relevant components of your infrastructure</h3>

<p>It is usually difficult to predict what components of your application stack might have an issue, so it is important to monitor <em>all</em> the relevant components. Azure Monitor can help you track the health and performance of your entire hybrid infrastructure, be it VMs, Containers, Storage, Network, or any other Azure services. You automatically get platform <a href="https://docs.microsoft.com/azure/monitoring/monitoring-data-collection?toc=/azure/azure-monitor/toc.json">metrics, activity logs, and diagnostics logs</a> from most of your Azure resources and can enable deeper monitoring for <a href="https://docs.microsoft.com/azure/monitoring/monitoring-vminsights-overview?toc=/azure/azure-monitor/toc.json">virtual machines</a> or <a href="https://docs.microsoft.com/azure/monitoring/monitoring-container-insights-overview?toc=/azure/azure-monitor/toc.json">AKS clusters</a> with a simple button click on the Azure Portal or installing an agent on your servers.</p>

<p>For scalability and infrastructure as code, it is recommended to take advantage of DevOps projects, <a href="https://docs.microsoft.com/azure/monitoring/monitoring-vminsights-onboard?toc=/azure/azure-monitor/toc.json">Azure policy, PowerShell, or ARM templates</a> for enabling monitoring and <a href="https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-create-metric-alerts-with-templates?toc=/azure/azure-monitor/toc.json">configuring alerts</a> over a large set of resources. Having monitoring enabled across your entire infrastructure will help you achieve full observability and make it easier to discover a potential root cause when something fails.</p>

<h3>Bucket related resources in resource groups</h3>

<p>A typical application on Azure today consists of monolithic apps deployed on VMs/App Services or microservices hosted on Cloud Services, AKS clusters, ACS, or Service Fabric. These apps frequently utilize dependencies like Event Hubs, Storage, SQL, Service Bus, and more to complete tasks. Many customers use <a href="https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview">resource groups</a> to bucket all the resources that make up their applications, and if you use the same, <a href="https://docs.microsoft.com/azure/monitoring-and-diagnostics/resource-group-insights">Azure Monitor for resource groups</a> provides a simple way to keep track of the health and performance of your entire full-stack application, while enabling you to drill down into respective components for any investigations or debugging.</p>

<h3>Ensure quality through Continuous Deployment</h3>

<p><a href="https://azure.microsoft.com/services/devops/pipelines/">Azure Pipelines</a> is a great way to setup Continuous Deployment and you can automate the entire process from code commit to production if your CI/CD tests are successful. Integrating monitoring as part of your pre or post-deployment <a href="https://docs.microsoft.com/azure/devops/pipelines/release/approvals/gates?view=vsts">Quality Gates</a> can ensure that you are also keeping the key health and performance metrics (KPIs) on track as your apps go from developer to production, and any differences in the infrastructure environment or scale are not negatively impacting your KPIs.</p>

<p>It is also a good practice to maintain <a href="https://docs.microsoft.com/azure/application-insights/app-insights-separate-resources">separate monitoring instances</a> between the different deployment environments like development, test, canary, production, and more. So the data remains relevant across the associated apps and infrastructure. If needed to correlate you can always design multi-resource charts in <a href="https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-metric-charts?toc=/azure/azure-monitor/toc.json">Metrics Explorer</a> or run cross-resource queries in <a href="https://docs.microsoft.com/azure/log-analytics/log-analytics-cross-workspace-search">Log Analytics</a>.</p>

<h3>Setup actionable alerts with notifications and/or remediation</h3>

<p>Having a robust alerting pipeline is essential for any monitoring strategy and it is recommended to set up actionable <a href="https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-alerts?toc=/azure/azure-monitor/toc.json">alerts</a> for all predictable failure states. You could configure your alerts based on static or even <a href="https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-alerts-dynamic-thresholds?toc=/azure/azure-monitor/toc.json">dynamic thresholds</a> and setup actions on top of them. These <a href="https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-action-groups?toc=/azure/azure-monitor/toc.json">actions</a> could be as simple as SMS, emails, push notifications or voice calls for simple notifications. You could even connect to your existing ITSM Tools or any other alert management systems through Webhooks. When possible, there are ways to design remediation as well with Azure Automation Runbooks or <a href="https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitor-tutorial-autoscale-performance-schedule?toc=/azure/azure-monitor/toc.json">Auto-scaling</a> in case of elastic workloads.</p>

<h3>Prepare role-based dashboards and workbooks for reporting</h3>

<p>When I ask large groups of people in conference presentations, whether any of them already use the same monitoring solutions across dev and ops in their companies, the answer is overwhelmingly negative! For successful Continuous Monitoring and ensuring fast MTTD and MTTR, it is imperative that your devs and ops have access to the same telemetry and same tools. Azure Monitor is designed as a unified monitoring solution for the entire team, and you can easily prepare <a href="https://docs.microsoft.com/azure/application-insights/app-insights-tutorial-dashboards?toc=/azure/azure-monitor/toc.json">custom role-based dashboards</a> based on common metrics &amp; logs.</p>

<p><a href="https://docs.microsoft.com/azure/application-insights/app-insights-usage-workbooks?toc=/azure/azure-monitor/toc.json">Workbooks</a> is another useful capability that can help with knowledge sharing between devs and ops. These could be prepared as dynamic reports with metric charts and log queries, or even as troubleshooting guides prepared by devs helping customer support or ops to handle basic problems.</p>

<h3>Continuously optimize with &ldquo;Build-Measure-Learn&rdquo;</h3>

<p>Building the right solution for your customers is never achieved in the first go and it is often an iterative process. Monitoring is one of the cornerstones of the popular &ldquo;Build-Measure-Learn&rdquo; philosophy which recommends continuously tracking your KPIs or user behavior metrics and striving to optimize them through planning iterations. With Azure Monitor, you can collect all the relevant custom events, metrics, or logs relevant to your business and it is extremely simple to add a new data point in the next deployment if something seems missing.</p>

<p>You can track and optimize your health, availability, performance, and reliability using the various tools from Azure Monitor and can even track <a href="https://docs.microsoft.com/azure/application-insights/app-insights-tutorial-users?toc=/azure/azure-monitor/toc.json">end-user behavior and engagement</a> for optimizing your customer experience. Azure Monitor provides <a href="https://docs.microsoft.com/azure/application-insights/app-insights-usage-impact?toc=/azure/azure-monitor/toc.json">Impact Correlation</a> as well which can help you prioritize which areas to focus on to drive to important KPIs!</p>

<h2>Next steps</h2>

<p>A Continuous Monitoring pipeline across your apps and infrastructure throughout your DevOps and IT Ops processes can really help you reduce MTTD and MTTR while ensuring that you strive towards delivering the best solution for your customers.</p>

<p>Learn more about Azure Monitor in our <a href="https://aka.ms/MonitoringDocs">documentation</a>, and check out some good tutorials and videos within <a href="https://aka.ms/AzMonOverview">Azure Monitor Overview in Azure Portal</a> that can help you implement some of these practices in further detail.</p>
</p>

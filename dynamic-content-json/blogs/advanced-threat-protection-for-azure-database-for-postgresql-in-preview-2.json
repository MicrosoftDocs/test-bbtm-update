{
    "Slug": "advanced-threat-protection-for-azure-database-for-postgresql-in-preview-2",
    "Title": "Advanced Threat Protection for Azure Database for PostgreSQL in preview",
    "Summary": "Advanced Threat Protection detects anomalous database activities indicating potential security threats to Azure Database for PostgreSQL.",
    "Content": "<p><em>This blog post was co-authored by Ron Matchoro, Principal Program Manager, Azure SQL Database.</em></p>\n\n<p>Advanced Threat Protection detects anomalous database activities indicating potential security threats to Azure Database for PostgreSQL.</p>\n\n<p>Advanced Threat Protection provides a new layer of security, which enables customers to detect and respond to potential threats as they occur by providing security alerts on anomalous database activities. Advanced Threat Protection makes it simple to address potential threats to the Azure Database for PostgreSQL server and integrates its alerts with <a href=\"https://azure.microsoft.com/en-us/services/security-center/\" target=\"_blank\">Azure Security Center</a>, without needing to be a security expert.</p>\n\n<p>For a full investigative experience, it is recommended to use <a href=\"https://docs.microsoft.com/azure/postgresql/concepts-server-logs\" target=\"_blank\">Server Logs in Azure Database for PostgreSQL</a>, which generates database query and error logs.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/82afcd35-e6e8-400f-82db-8ee0bf5f6e1c.png\"><img alt=\"advanced-threat-protection-concept\" border=\"0\" height=\"655\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d32d7e92-0d54-41b0-9774-1f4f9db04a9e.png\" style=\"border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"advanced-threat-protection-concept\" width=\"663\"></a></p>\n\n<p>The benefits of Advanced Threat Protection include:</p>\n\n<ul>\n <li>Simple configuration of Advanced Threat Protection policy via the Azure portal.</li>\n <li>Clear email alerts upon detection of suspicious database activities.</li>\n <li>Ability to explore the activity log around the time of the event using the Azure portal.</li>\n <li>No need to modify database procedures or application code.</li>\n</ul>\n\n<h2>Set up Advanced Threat Protection for your Azure Database for PostgreSQL server in the Azure portal</h2>\n\n<ul>\n <li>Launch the <a href=\"https://portal.azure.com\" target=\"_blank\">Azure portal</a>.</li>\n <li>Navigate to the configuration page of the Azure Database for PostgreSQL server you want to protect. In the Settings page, select <strong>Advanced Threat Protection</strong>.</li>\n <li>In the Advanced Threat Protection configuration blade:\n <ul>\n  <li>Turn <strong>ON</strong> Threat detection.</li>\n  <li>Configure the <strong>list of emails</strong> that will receive security alerts upon detection of anomalous database activities.</li>\n </ul>\n </li>\n <li>Click <strong>Save</strong> in the Advanced Threat Protection configuration blade to save the new or updated threat detection policy.</li>\n</ul>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/081a21af-6340-4ae4-bc01-4b17eb484d66.png\"><img alt=\"set-up-threat-protection\" border=\"0\" height=\"708\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0a90ff26-c6b7-4428-b96a-bf6afb661dcb.png\" style=\"border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"set-up-threat-protection\" width=\"972\"></a></p>\n\n<h2>Explore anomalous PostgreSQL server activities upon detection of a suspicious event</h2>\n\n<p>You will receive an email notification upon detection of anomalous database activities. The email will provide information about the suspicious security event including the nature of the anomalous activities, database name, server name, and the event time. In addition, it will provide information on possible causes and provide recommended actions to investigate and mitigate the potential threat to the Azure Database for PostgreSQL server.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/50aa7a2e-28b8-4f9c-a4d4-0279d83f7919.png\"><img alt=\"anomalous-activity-report\" border=\"0\" height=\"967\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4550c834-c22e-400a-b80f-afbb5e819f24.png\" style=\"border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"anomalous-activity-report\" width=\"613\"></a></p>\n\n<p>Clicking on the <strong>view recent alerts</strong> link in the email will launch the Azure portal and show the Azure Security Center alerts blade, which provides an overview of active SQL threats detected on the Azure Database for PostgreSQL server.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4d7fb5df-2038-4299-a4fc-f1952d762305.png\"><img alt=\"active-threats\" border=\"0\" height=\"1050\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5c5d8f63-ad0a-4d54-a756-22cfccd4a9e1.png\" style=\"border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"active-threats\" width=\"1712\"></a></p>\n\n<p>Clicking on a specific alert provides additional details and actions for investigating this threat and remediating future threats.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1ab2e991-7e17-4215-9622-f1e8b19cd994.png\"><img alt=\"specific-alert\" border=\"0\" height=\"1036\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/79f66b9c-76bd-431f-90c2-92e5950425c9.png\" style=\"border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"specific-alert\" width=\"840\"></a></p>\n\n<h2>Azure Database for PostgreSQL server Advanced Threat Protection alerts</h2>\n\n<p>Advanced Threat Detection for Azure Database for PostgreSQL server detects anomalous activities indicating unusual and potentially harmful attempts to access or exploit databases. It can trigger the following alerts:</p>\n\n<ul>\n <li><strong>Access from unusual locations</strong>: This alert is triggered when there is a change in the access pattern to an Azure Database for PostgreSQL server, where someone has logged onto the Azure Database for PostgreSQL server from an unusual geographical location. In some cases, the alert detects a legitimate action, meaning a new application or developer&rsquo;s maintenance operation. In other cases, the alert detects a malicious action such as former employee, external attacker, etc..</li>\n <li><strong>Access from unusual Azure data center</strong>: This alert is triggered when there is a change in the access pattern to Azure Database for PostgreSQL server. Where someone has logged onto the Azure Database for PostgreSQL server from a Azure Data Center that was not seen accessing this Managed Instance during the recent period. In some cases, the alert detects a legitimate action such as your new application in Azure, Power BI, Azure SQL Query Editor, etc. In other cases, the alert detects a malicious action from an Azure resource or service such as a former employee or external attacker.</li>\n <li><strong>Access from unfamiliar principal</strong>: This alert is triggered when there is a change in the access pattern to Azure Database for PostgreSQL server, where someone has logged on to the Azure Database for PostgreSQL server using an unusual principal. In some cases, the alert detects a legitimate action such as new application developer&rsquo;s maintenance operation. In other cases, the alert detects a malicious action such as a former employee or external attacker.</li>\n <li><strong>Access from a potentially harmful application</strong>: This alert is triggered when a potentially harmful application is used to access the database. In some cases, the alert detects penetration testing in action. In other cases, the alert detects an attack using common attack tools.</li>\n <li><strong>Brute force login credentials</strong>: This alert is triggered when there is an abnormally high number of failed logins with different credentials. In some cases, the alert detects penetration testing in action. In other cases, the alert detects a brute force attack.</li>\n</ul>\n\n<h2>Next steps</h2>\n\n<ul>\n <li>Learn more about <a href=\"https://docs.microsoft.com/azure/postgresql/concepts-data-access-and-security-threat-protection\" target=\"_blank\">Advanced Threat Protection for Azure Database for PostgreSQL</a>.</li>\n <li>Visit the <a href=\"https://azure.microsoft.com/pricing/details/postgresql/\" target=\"_blank\">pricing page</a> for Advanced Threat Protection for Azure Database for PostgreSQL</li>\n</ul>\n"
}
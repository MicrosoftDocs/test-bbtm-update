{
    "Slug": "analyze-azure-audit-logs-in-powerbi-more",
    "Title": "View and analyze Azure Audit Logs in Power BI and more",
    "Summary": "We're excited to announce the preview of a new feature that will empower you to make better business decisions - The Power BI Content Pack for Azure Audit Logs.",
    "Content": "<p>Azure Audit Logs (formerly known as Operational Logs) include all the provisioning actions performed in the Azure Resource Manager in addition to other actions related to managing Azure resources (ex. Alerts, AutoScaling, deployments etc). Azure Audit Logs also log other service related events and notifications that impact one or more of the resources in your subscription(s). The Audit Logs blade in <a href=\"https://portal.azure.com\" target=\"_blank\">Azure Portal</a> provides a window to the wealth of information contained in these logs.</p>\n\n<p>Your feedback was clear. You want the ability to easily access, analyze and visualize your data better. We heard your feedback and are excited to announce the preview of a new feature that will empower you to make better business decisions &ndash; <strong>The </strong><a href=\"https://powerbi.microsoft.com\" target=\"_blank\"><strong>Power BI </strong></a><strong>Content Pack for Azure Audit Logs</strong>. We&rsquo;d also like to share other ways to access and consume the data via your own scripts or programs.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/23798bf3-8481-45dc-9aa6-3dbb5559a6ae.png\"><img alt=\"Audit Logs Blade\" border=\"0\" height=\"480\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ba27f388-bafc-4ecd-94e1-ab505853809c.png\" style=\"border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"Audit Logs Blade\" width=\"602\"></a></p>\n\n<h3>What can you expect to find in Azure Audit Logs?</h3>\n\n<p>First, you need to access Azure Audit Logs. Find your step-by-step guide in our <a href=\"https://azure.microsoft.com/en-us/documentation/articles/insights-debugging-with-events/\">further documentation</a> explaining how you can access Azure Audit Logs in <a href=\"https://portal.azure.com\">Azure Portal</a>. In a nutshell, Azure Audit Logs is the go-to place to view all control plane events/logs from all Azure resources. It includes system and user generated events. You can also access this through the Azure Insights SDK, PowerShell, REST API and CLI. The logs are preserved for 90 days in Azure&rsquo;s Event Logs store.</p>\n\n<p>So what kind of insights can one expect to gain from Azure Audit Logs? Here are some examples:</p>\n\n<ul>\n <li>Events by any particular resource over time</li>\n <li>Which users perform what actions, how frequently and on what resources</li>\n <li>Actions and events per subscription, resource group, region etc.</li>\n <li>Azure Service Health (outages and maintenance) events that potentially impacted your resources</li>\n <li>Alerts and AutoScale events by resource and time</li>\n <li>Failures, success of deployments and registrations</li>\n</ul>\n\n<p>These data points usually require accessing the logs via data analysis and visualization tools. On top of that, what if you could easily auto-refresh the data and share it with your team using reports and dashboards? The Azure Insights and Power BI team collaborated to bring you exactly this - a free and easy-to-use extension in Power BI, the Content Pack for Azure Audit Logs.</p>\n\n<p>A content pack is an extension in Power BI you can configure to retrieve data from data sources via APIs to build sharable reports and dashboards.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1c725233-3ce8-4316-9402-bb3ecf96c305.png\"><img alt=\"Audit Logs PBI\" border=\"0\" height=\"323\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f49c8d90-1c2d-4878-a437-6e174948f6fe.png\" style=\"border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"Audit Logs PBI\" width=\"640\"></a></p>\n\n<p>With the help of this Power BI content pack, you can gain insights into logs right from the get-go. You can customize out-of-box reports and charts to your liking and share them with your team. You can also configure data refresh time and frequency to meet your needs.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ce3ab434-5a8f-44c3-8ed1-d6549b9055c4.png\"><img alt=\"Azure Audit Logs_billing dashboard\" border=\"0\" height=\"480\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f3d6b48b-e4cd-4c8a-83e0-5a89e0e32038.png\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"Azure Audit Logs_billing dashboard\" width=\"540\"></a></p>\n\n<p>Check out our demo video that provides a detailed walkthrough of the same.</p>\n\n<p><iframe allowfullscreen=\"\" frameborder=\"0\" height=\"315\" src=\"https://www.youtube.com/embed/LCBcZ1JOzoQ\" width=\"560\"></iframe></p>\n\n<p>Now it&#39;s your turn to take this for a spin. Try out the new <a href=\"https://powerbi.microsoft.com/en-us/landing/signin?ru=https:%2f%2fapp.powerbi.com%2f%3froute%3dgroups%252fme%252fgetdata%252fservices%252fazure-audit-logs%26noSignUpCheck%3d1\">Azure Audit Logs Content Pack</a>. If you have multiple subscriptions, you can repeat the steps using different subscription IDs and rename the dashboard/report based on the subscription info.</p>\n\n<p>Power BI is free with your organizational account. If you are new to Power BI, checkout more resources the <a href=\"https://powerbi.microsoft.com/en-us/\">Power BI site</a>, <a href=\"https://blogs.msdn.com/b/powerbi/\">blog</a> or <a href=\"https://www.youtube.com/user/mspowerbi\">YouTube channel</a>.</p>\n\n<h3>Do more using Azure Insights REST APIs, PowerShell and SDK</h3>\n\n<p>If the Power BI content pack is sufficient but you&rsquo;re still hungry for more, get your hands dirty with the following options.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/azure/dn931943.aspx\">Azure Insights REST API</a>: Build your own data analysis tools using the <a href=\"https://msdn.microsoft.com/en-us/library/azure/dn931934.aspx\">Events</a> REST API. In fact, the Power BI content pack utilizes this REST API. You can apply multiple filters on the query. Note, the API returns a limited set of logs for your query (in most cases less than 200 events at a time). You need to use the &lsquo;<i>nextLink&rsquo;</i> element, the continuation token, to page through and retrieve more logs.</p>\n\n<p>Azure Resource Manager PowerShell &amp; CLI: Make use of the <i>Get-AzureRmLog</i> cmdlet in PowerShell or the <em>azure group log show </em>in CLI to access Audit Logs. Read <a href=\"https://azure.microsoft.com/en-us/documentation/articles/resource-group-audit/\">this&nbsp;</a>article to help you get started with these commands.</p>\n\n<p><a href=\"https://www.nuget.org/packages/Microsoft.Azure.Insights\">Azure Insights</a> and <a href=\"https://www.nuget.org/packages/Microsoft.Azure.Management.Resources/2.18.7-preview\">Azure Resource Manager</a> Libraries: The <i>InsightsClient</i> class from Azure Insights SDK and the <i>ResourceManagementClient</i> class from Azure Resource Manager SDK have methods and properties that make querying (and paging through) logs easy.</p>\n\n<p>Check out this <a href=\"https://code.msdn.microsoft.com/Analyze-Azure-Audit-Logs-0977ada4\">sample C# program</a> that retrieves the audit logs and dumps them into a CSV file.</p>\n\n<p>Now that you are armed with the quintessential tools to dive deeper and analyze the Azure Audit Logs, we hope you&rsquo;re eager to transform this data into intelligent actions. Try the Power BI content pack and <a href=\"https://feedback.azure.com/forums/231545-diagnostics-and-monitoring\">let us know how we can improve</a>. Make use of the REST API, PowerShell or SDK to programmatically retrieve and archive logs. <a href=\"https://feedback.azure.com/forums/231545-diagnostics-and-monitoring\">Let us know</a> how we can make your journey on Azure more insightful.</p>\n"
}
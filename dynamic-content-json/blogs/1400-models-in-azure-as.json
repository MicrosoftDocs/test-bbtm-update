{
    "Slug": "1400-models-in-azure-as",
    "Title": "1400 compatibility level in Azure Analysis Services",
    "Summary": "1400 models including all the new enterprise features and connectivity are now supported in Azure AS!",
    "Content": "<p>We are excited to announce the public preview of the 1400 compatibility level for tabular models in Azure Analysis Services! This brings a host of new connectivity and modeling features for comprehensive, enterprise-scale analytic solutions delivering actionable insights. The 1400 compatibility level will also be available in SQL Server 2017 Analysis Services, ensuring a symmetric modeling capability across on-premises and the cloud.</p>\n\n<p>Here are just some highlights of the new features available to 1400 models.</p>\n\n<ul>\n <li>New infrastructure for data connectivity and ingestion into tabular models with support for TOM APIs and TMSL scripting. This enables:\n <ul style=\"margin-left: 40px;\">\n  <li>Support for additional data sources, such as Azure Blob storage.</li>\n  <li>Data transformation and data mashup capabilities.</li>\n </ul>\n </li>\n <li>Support for BI tools such as Microsoft Excel enable drill-down to detailed data from an aggregated report. For example, when end-users view total sales for a region and month, they can view the associated order details.</li>\n <li>Object-level security to secure table and column names in addition to the data within them.</li>\n <li>Enhanced support for ragged hierarchies such as organizational charts and chart of accounts.</li>\n <li>Various other improvements for performance, monitoring and consistency with the Power BI modeling experience.</li>\n</ul>\n\n<p>To benefit from the new features for models at the 1400 compatibility level, you&rsquo;ll need to <a href=\"https://msdn.microsoft.com/library/mt204009.aspx\">download and install SQL Server Data Tools (SSDT) 17.0</a>.</p>\n\n<p>In SSDT, you can select the new 1400 compatibility level when creating new tabular model projects. Alternatively, you can upgrade an existing tabular model by selecting the Model.bim file in Solution Explorer and setting the Compatibility Level to 1400 in the Properties window. Models at the 1400 compatibility level cannot be downgraded to lower compatibility levels.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/03f51374-0f73-4c8b-9f9e-cfd673d25402.png\"><img alt=\"image\" border=\"0\" height=\"361\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d04adcc3-ba60-4fed-9ae8-7006fdd38580.png\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"image\" width=\"344\"></a></p>\n\n<h2>New Infrastructure for Data Connectivity</h2>\n\n<p>1400 models introduce a new infrastructure for data connectivity and ingestion into tabular models with support for TOM APIs and TMSL scripting. This is based on similar functionality in Power BI Desktop and Microsoft Excel 2016. At this point, only the following cloud-based data sources are supported with the 1400 compatibility level in Azure Analysis Services. We intend to add support for more data sources soon. For more information, please refer to the <a href=\"https://blogs.msdn.microsoft.com/analysisservices/2016/12/16/introducing-a-modern-get-data-experience-for-sql-server-vnext-on-windows-ctp-1-1-for-analysis-services/\">Analysis Services Team blog</a>, and watch out for future posts to the Azure blog.</p>\n\n<ul>\n <li>Azure SQL Data Warehouse</li>\n <li>Azure SQL Database</li>\n <li>Azure Blog Storage</li>\n</ul>\n\n<h2>Detail Rows</h2>\n\n<p>A much-requested feature for tabular models is the ability to define a custom row set contributing to a measure value. Multidimensional models achieve this by using drillthrough and rowset actions. This allows end-users to view information in more detail than the aggregated level.</p>\n\n<p>For example, the following PivotTable shows Internet Total Sales by year from the Adventure Works sample tabular model. Users can right-click the cell for 2010 and then select the Show Details menu option to view the detail rows.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9045ab35-7642-4ebc-8771-e475b7115b88.jpg\"><img alt=\"clip_image004\" border=\"0\" height=\"323\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/17ada76c-cdda-4ea9-b4c7-3997712cbc7e.jpg\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"clip_image004\" width=\"460\"></a></p>\n\n<p>By default, all the columns in the Internet Sales table are displayed. This behavior is often not meaningful for the user because too many columns may be shown, and the table may not have the necessary columns to show useful information such as customer name and order information.</p>\n\n<h3>Detail Rows Expression Property for Measures</h3>\n\n<p>1400 models introduce the Detail Rows Expression property for measures. It allows the modeler to customize the columns and rows returned to the end user. The following example uses the DAX Editor in SSDT to define the columns to be returned for the Internet Total Sales measure.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4faec63f-9a8f-44a4-b776-f18b1e964e3b.jpg\"><img alt=\"clip_image006\" border=\"0\" height=\"387\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5ca1530b-242b-4e30-a1f7-8432715630c1.jpg\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"clip_image006\" width=\"500\"></a></p>\n\n<p>With the property defined and the model deployed, the custom row set is returned when the user selects Show Details. It automatically honors the filter context of the cell that was selected. In this example, only the rows for 2010 value are displayed.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/40539755-27b7-49d1-bb44-05d2fe287d63.png\"><img alt=\"clip_image007\" border=\"0\" height=\"184\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4062d8cf-9b43-401d-b9c2-06b091874528.png\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"clip_image007\" width=\"613\"></a></p>\n\n<p>Further information on Detail Rows is available in this <a href=\"https://blogs.msdn.microsoft.com/analysisservices/2016/12/16/whats-new-for-sql-server-vnext-on-windows-ctp-1-1-for-analysis-services/\">blog post</a>.</p>\n\n<h2>Object-Level Security</h2>\n\n<p>Roles in tabular models already support a granular list of permissions, and row-level filters to help protect sensitive data.</p>\n\n<p>1400 models introduce table- and column-level security allowing sensitive table and column names to be protected in addition to the data within them. Collectively these features are referred to as object-level security (OLS).</p>\n\n<p>The current version requires that OLS is set using the JSON-based metadata, <a href=\"https://msdn.microsoft.com/library/mt614797.aspx\">Tabular Model Scripting Language</a> (TMSL), or <a href=\"https://msdn.microsoft.com/library/mt706505.aspx\">Tabular Object Model</a> (TOM). We plan to deliver SSDT support soon. The following snippet of JSON-based metadata from the Model.bim file secures the Base Rate column in the Employee table of the Adventure Works sample tabular model by setting the MetadataPermission property of the ColumnPermission class to None.</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&quot;roles&quot;: [</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp; {</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;General Users&quot;,</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp; &quot;description&quot;: &quot;All allowed users to query the model&quot;,</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp; &quot;modelPermission&quot;: &quot;read&quot;,</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp; &quot;tablePermissions&quot;: [</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;Employee&quot;,</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;columnPermissions&quot;: [</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;Base Rate&quot;,</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;metadataPermission&quot;: &quot;none&quot;</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp;&nbsp;&nbsp; ]</p>\n\n<p class=\"MsoNormal\" style=\"background: rgb(242, 242, 242); margin: 0in 0in 0pt; line-height: normal; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-shading: white; mso-pattern: gray-5 auto;\">&nbsp; }</p>\n\n<p>Unauthorized users cannot access the Base Rate column using client tools like Power BI and Excel Pivot Tables. Additionally, such users cannot query the Base Rate column using DAX or MDX, or measures that refer to it.</p>\n\n<p>Further information on OLS is available in this <a href=\"https://blogs.msdn.microsoft.com/analysisservices/2017/04/19/whats-new-in-sql-server-2017-ctp-2-0-for-analysis-services/\">blog post</a>.</p>\n\n<h2>Ragged Hierarchies</h2>\n\n<p>Tabular models with previous compatibility levels can be used to model parent-child hierarchies. Hierarchies with a differing number of levels are referred to as <i>ragged hierarchies</i>. An example of a ragged hierarchy is an organizational chart. By default, ragged hierarchies are displayed with blanks for levels below the lowest child. This can look untidy to users, as shown by this organizational chart in Adventure Works:</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d99a507d-eef1-436a-abdc-ae603413725c.jpg\"><img alt=\"clip_image009\" border=\"0\" height=\"294\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/10536e46-d687-43f4-9c25-0d0873a8d441.jpg\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"clip_image009\" width=\"357\"></a></p>\n\n<p>1400 models introduce the Hide Members property to correct this. Simply set the Hide Members property to Hide blank members.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c09d8a22-98a2-489e-aeb1-09c6c26c1474.jpg\"><img alt=\"clip_image011\" border=\"0\" height=\"266\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4d13297f-a09d-4dac-a409-c40c46535f93.jpg\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"clip_image011\" width=\"327\"></a></p>\n\n<p>With the property set and the model deployed, the more presentable version of the hierarchy is displayed.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7f48b240-cf00-4f6a-8c47-84934055742a.jpg\"><img alt=\"clip_image013\" border=\"0\" height=\"225\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/dc9fe6af-a471-40c1-a733-9e76605b1b53.jpg\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"clip_image013\" width=\"375\"></a></p>\n\n<h2>Other Features</h2>\n\n<p>Various other features such as the following are also introduced with the 1400 compatibility level. For more information, please refer to the Analysis Services Team blog for what&#39;s new in SQL <a href=\"https://blogs.msdn.microsoft.com/analysisservices/2017/04/19/whats-new-in-sql-server-2017-ctp-2-0-for-analysis-services/\">Server 2017 CTP 2.0</a> and <a href=\"https://blogs.msdn.microsoft.com/analysisservices/2016/12/16/whats-new-for-sql-server-vnext-on-windows-ctp-1-1-for-analysis-services/\">SQL Server vNext on Windows CTP 1.1</a> for Analysis Services.</p>\n\n<ul>\n <li>Transaction-performance improvements for a more responsive developer experience.</li>\n <li>Dynamic Management View improvements enabling dependency analysis and reporting.</li>\n <li>Hierarchy and column reuse to be surfaced in more helpful locations in the Power BI field list.</li>\n <li>Date relationships to easily create relationships to date dimensions based on date columns.</li>\n <li>DAX enhancements to make DAX more accessible and powerful. These include the IN operator and table/row constructors.</li>\n</ul>\n\n<h2>Try it Now!</h2>\n\n<p>To get started, simply create a 1400 model in SSDT and deploy it to Azure Analysis Services! See <a href=\"https://azure.microsoft.com/blog/first-azure-as/\">this post</a> on how to create your first model. Be sure to keep an eye on this blog to stay up to date on Azure Analysis Services.</p>\n"
}
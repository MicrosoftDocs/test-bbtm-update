{
    "Slug": "announcing-real-time-geospatial-analytics-in-azure-stream-analytics",
    "Title": "Announcing real-time Geospatial Analytics in Azure Stream Analytics",
    "Summary": "We recently announced the general availability of Geospatial Functions in Azure Stream Analytics to enable real-time analytics on streaming geospatial data. This will make it possible to realize scenarios such as fleet monitoring, asset tracking, geofencing, phone tracking across cell sites, connected manufacturing, ridesharing solutions, etc. with production grade quality with a few lines of code.",
    "Content": "<p>We recently announced the general availability of Geospatial Functions in Azure Stream Analytics to enable real-time analytics on streaming geospatial data. This will make it possible to realize scenarios such as fleet monitoring, asset tracking, geofencing, phone tracking across cell sites, connected manufacturing, ridesharing solutions, etc. with production grade quality with a few lines of code.</p>\n\n<p>The connected car landscape and the turning of the automobile into a real-time data exhaust opens new avenues of business for automation, and post-sale monetization opportunities in industries such as insurance and content providers. NASCAR has been a pioneer in using geospatial capabilities in Azure Stream Analytics.</p>\n\n<blockquote>\n<p>&ldquo;We use real-time geospatial analytics with Azure Stream Analytics for analyzing race telemetry during and after the race,&rdquo; said NASCAR&rsquo;s Managing Director of Technology Development, Betsy Grider.</p>\n</blockquote>\n\n<p>The new capabilities provide native functions that can be used in Azure Stream Analytics to compute geospatial operations such as the identification of geospatial data as points, lines, and polygons, computation of overlap between polygons, intersections between paths, etc. The ability to join multiple streams with geospatial data can be used to answer complex questions on streaming data.<br>\nWe&rsquo;ve adopted the GeoJSON standard for dealing with geospatial data. The new functions include:</p>\n\n<ul>\n <li><u>CreatePoint </u>- Identifies a GeoJSON point.</li>\n <li><u>CreateLineString</u> - Identifies a GeoJSON line string.</li>\n <li><u>CreatePolygon </u>- Identifies a GeoJSON polygon.</li>\n <li><u>ST_DISTANCE</u> - Determines the distance between two points in meters.</li>\n <li><u>ST_OVERLAPS</u> &ndash; Determines if one polygon overlaps with another.</li>\n <li><u>ST_INTERSECTS</u> &ndash; Determines if two line strings intersect.</li>\n <li><u>ST_WITHIN</u> &ndash; Determines if one polygon is contained inside another.</li>\n</ul>\n\n<p>The ability to reason about geospatial data in motion using a declarative SQL like language Simplified queries for geospatial scenarios would look as follows:</p>\n\n<p><strong>Generate an event when a gas station is less than 10 km from the car:</strong></p>\n\n<pre class=\"prettyprint\">\nSELECT Cars.Location, Station.Location \nFROM Cars c  \nJOIN Station s ON ST_DISTANCE(c.Location, s.Location) &lt; 10 * 1000 \n</pre>\n\n<p><strong>Generate an event when:</strong></p>\n\n<ul>\n <li>Fuel level in the car is lower than 10%</li>\n <li>Gas stations have a promotion</li>\n <li>The car is pointing to gas station</li>\n</ul>\n\n<pre class=\"prettyprint\">\nSELECT Cars.gas, Cars.Location, Cars.Course, Station.Location, Station.Promotion \nFROM Cars c \nJOIN Station s ON Cars.gas &lt; 0.1 AND Station.Promotion AND ST_OVERLAPS(c.Location, c.course) \n</pre>\n\n<p><strong>Generate an event when building is within a possible flooding zone:</strong></p>\n\n<pre class=\"prettyprint\">\nSELECT Building.Polygon, Building.Polygon \nFROM Building b \nJOIN Flooding f ON ST_OVERLAPS(b.Polygon, b.Polygon) \n</pre>\n\n<p><strong>Generate an event when a storm is heading towards a car:</strong></p>\n\n<pre class=\"prettyprint\">\nSELECT Cars.Location, Storm.Course\nFROM Cars c, Storm s\nJOIN Storm s ON ST_OVERLAPS(c.Location, s.Course)\n</pre>\n\n<p>The integration with Power BI enables <a href=\"https://powerbi.microsoft.com/en-us/guided-learning/powerbi-learning-3-5-create-map-visualizations/\">live visualizations of geospatial data on maps</a> in real-time dashboards. It is also possible to use Geospatial functions for actualizing scenarios such as identifying and auctioning on hotspots and groupings and visualize data using heat maps on a <a href=\"https://www.microsoft.com/maps/choose-your-bing-maps-API.aspx\">Bing Maps</a> canvas.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4638447b-f533-44cb-bfdb-6f429d370773.jpg\"><img alt=\"Live Heat Map\" border=\"0\" height=\"480\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/db3d0cf7-6b77-4003-833a-444165bbf8ac.jpg\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"Live Heat Map\" width=\"501\"></a></p>\n\n<p align=\"center\"><em>Live heat maps using machine learning and geospatial analytics can help unlock better business outcomes for ride-sharing and fleet management scenarios.</em></p>\n\n<p align=\"left\">&nbsp;</p>\n\n<p align=\"left\">This <a href=\"https://channel9.msdn.com/Shows/Azure-Friday/Geospatial-Functions-in-Azure-Stream-Analytics\">video</a> shows a fleet monitoring example built using the functionality detailed above.</p>\n\n<p align=\"left\"><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c74c78ad-2a61-4f34-88d9-428d5f8e1cc2.jpg\"><img alt=\"Fleet Monitoring US\" border=\"0\" height=\"562\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/835f095e-92e1-419e-b2d1-b3529c956605.jpg\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"Fleet Monitoring US\" width=\"562\"></a></p>\n\n<p align=\"center\"><em>Fleet monitoring with Geospatial functions in Azure Stream Analytics</em></p>\n\n<p align=\"left\">The <a href=\"https://msdn.microsoft.com/en-us/library/mt778980.aspx\">GeoSpatial Functions documentation</a> page covers detailed documentation and usage examples. We are excited for you try out geospatial functions using Azure Stream Analytics.</p>\n"
}
{
    "Slug": "accessing-and-using-azure-vm-unique-id",
    "Title": "Accessing and Using Azure VM Unique ID",
    "Summary": "We have recently added support for Azure VM unique ID. No matter what your platform or applications requirements on Azure VM, you can now have access to an Azure VM unique identifier.",
    "Content": "We have recently added support for Azure VM unique ID. Azure VM unique ID is a 128bits identifier that is encoded and stored in all Azure IaaS VM’ SMBIOS and can be read using platform BIOS commands.\n\nThis identifier can be used in different scenarios whether the VM is running on Azure or on-premises and can help your licensing, reporting or general tracking requirements you may have on your Azure IaaS deployments. Many independent software vendors and partners building applications and certifying them on Azure may require to identify an Azure VM throughout its lifecycle and to tell if the VM is running on Azure, on-Premises or on other cloud providers. This platform identifier can for example help detect if the software is properly licensed or help to correlate any VM data to its source such as to assist on setting the right metrics for the right platform and to track and correlate these metrics amongst other uses.\n\nThis unique identifier cannot be modified, it can only be queried. Although only new VMs created after 09/18/2014 will have this capability enabled upon creation, VMs that were created prior to 09/18/2014, will automatically get this capability upon next VM restart. Azure Unique VM ID won’t change upon reboot, shutdown (either planned for unplanned), start/stop de-allocate, service healing or restore in place. However, if the VM is a snapshot and copied to create a new instance, Azure VM ID will get changed.\n\nIf you have older VMs created and running since this new feature got rolled out (9/18/2014), please restart your VM to automatically get a unique ID which you can start using upon reset.\n\n&nbsp;\n\nTo access Azure VM ID from within the VM, follow these steps:\n\n&nbsp;\n<h2><strong>Step 1</strong> - Create a VM (only VMs created after 9/18/2014 will have this feature enabled by default)</h2>\n&nbsp;\n\nFollow these steps: <a href=\"https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-create-custom/\" target=\"_blank\">How to Create a Custom Virtual Machine</a>\n\n&nbsp;\n<h2><strong>Step 2</strong> - Connect to the VM</h2>\n&nbsp;\n\nFollow these steps: <a href=\"https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-log-on-windows-server/\" target=\"_blank\">How to Log on to a Virtual Machine Running Windows Server</a> or <a href=\"https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-linux-how-to-log-on/\" target=\"_blank\">How to Log on to a Virtual Machine Running Linux</a>\n\n&nbsp;\n<h2><span style=\"font-weight: bold\">Step 3 </span>– Query VM Unique ID</h2>\n<h3></h3>\n<h3><span style=\"font-weight: bold\"><span style=\"text-decoration: underline\">Linux VMs</span></span></h3>\n<blockquote><span style=\"font-size: medium\"><span style=\"font-weight: bold\"><span style=\"text-decoration: underline\">Command (Ubuntu):</span></span></span>\n<pre class=\"prettyprint\">sudo dmidecode | grep UUID</pre>\n<span style=\"font-size: medium\"><span style=\"text-decoration: underline\"><strong>Example Expected Results</strong>:</span></span></blockquote>\n<blockquote>\n<pre class=\"prettyprint\">UUID: 090556DA-D4FA-764F-A9F1-63614EDA019A</pre>\n</blockquote>\n<blockquote>Due to Big Endian bit ordering, the actual unique VM ID in this case will be:</blockquote>\n<blockquote>\n<pre class=\"prettyprint\">DA 56 05 09 – FA D4 – 4f 76 - A9F1-63614EDA019A</pre>\n</blockquote>\n&nbsp;\n<h3><span style=\"font-weight: bold\"><span style=\"text-decoration: underline\">Windows VMs</span></span></h3>\n<blockquote><span style=\"font-size: medium\"><span style=\"font-weight: bold\"><span style=\"text-decoration: underline\">Commands:</span>  </span></span>\n<pre class=\"prettyprint\">$computerSystemProduct = Get-WmiObject -class Win32_ComputerSystemProduct -namespace root\\CIMV2\n\n'BIOS GUID:             \"{0}\"' -f $computerSystemProduct.UUID</pre>\n<span style=\"font-size: medium\"><strong><span style=\"text-decoration: underline\">Example expected results: </span></strong></span>\n<pre class=\"prettyprint\">'BIOS GUID: \"BC5BCA47-A882-4096-BB2D-D76E6C170534\"</pre>\n<h3><span style=\"font-size: medium\"> </span></h3>\n</blockquote>\nNo matter what your platform or applications requirements on Azure VM, you can now have access to an Azure VM unique identifier.\n\nIf you have older VMs created and running since this new feature got rolled out, please restart your VM to automatically get a unique ID which you can start using upon reset."
}
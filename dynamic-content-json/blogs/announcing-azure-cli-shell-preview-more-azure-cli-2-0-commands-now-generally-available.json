{
    "Slug": "announcing-azure-cli-shell-preview-more-azure-cli-2-0-commands-now-generally-available",
    "Title": "Announcing Azure CLI Shell (Preview); more Azure CLI 2.0 commands now generally Available",
    "Summary": "Following up on the generally available release of VM, ACS, Storage and Network commands in the new Azure CLI 2.0, we are today announcing a new Azure CLI interactive Shell preview mode release, in addition to the generally available release of following command modules: ACR, Batch, KeyVault, and SQL.",
    "Content": "<p>Following up on the <a href=\"https://azure.microsoft.com/en-us/blog/announcing-general-availability-of-vm-storage-and-network-azure-cli-2-0/\">generally available release of VM, ACS, Storage and Network commands in the new Azure CLI 2.0</a>, we are today announcing a new Azure CLI interactive Shell preview mode release, in addition to the generally available release of following command modules: ACR, Batch, KeyVault, and SQL.</p>\n\n<h2>Interactive Shell</h2>\n\n<p>Azure CLI 2.0 provides an idiomatic command line interface that integrates natively with Bash and POSIX tools. It is easy to install, use and learn. You can use it to run one command at a time, as well as to run automation scripts composed of multiple commands, including other BASH commands. To support this, commands are not interactive and will error out when provided with incomplete or incorrect input.</p>\n\n<p>However, there are circumstances when you might prefer an interactive experience, such as when learning the Azure CLI&rsquo;s capabilities, command structures and output formats. Azure CLI Shell (az-shell) provides an interactive mode in which to run Azure CLI 2.0 commands. It provides autocomplete dropdowns, auto-cached suggestions combined with on the fly documentation, including examples of how each command is used. Azure CLI Shell provides an experience that makes it easier to learn and use Azure CLI commands.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4ff2cb77-e969-4107-b0bf-c008148d580b.jpg\"><img alt=\"Azure CLI Shell\" border=\"0\" height=\"480\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/354e3a8a-7cfa-4868-80c1-fdac7577a2d8.jpg\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"Azure CLI Shell\" width=\"529\"></a></p>\n\n<p>We invite you to install and use the new interactive shell for Azure CLI 2.0. You can use it in a <a href=\"https://hub.docker.com/r/azuresdk/azure-cli-shell/\">Docker image</a> we created, or <a href=\"https://github.com/azure/azure-cli-shell#installation\">install it</a> locally on your Mac or Windows machine. It works with your existing Azure CLI installations, and you can use the commands side-by-side in az-shell or another command shell of your choice (BASH on MAC/linux and cmd.exe on Windows).</p>\n\n<h2>New commands now generally available</h2>\n\n<p>Continuing with the momentum of our GA release of the first Azure CLI 2.0 command modules on Feb 27th, today we are also announcing that following command modules are now Generally Available: Azure Container Registry, Batch, KeyVault, and SQL. With this GA release, you can use these commands in production with full support from Microsoft through our Azure support channels or on GitHub. We don&rsquo;t expect any breaking changes for these commands in future releases of Azure CLI 2.0.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/container-registry/\">Azure Container Registry</a> enables developers to create and maintain Azure container registries to store and manage private Docker container images. Using the <a href=\"https://docs.microsoft.com/en-us/cli/azure/acr\">acr commands</a> in Azure CLI 2.0, you can create and manage these registries right from the command line. After you create a registry, you can use other CLI commands to assign a service principal to it, manage admin credentials, and list the repositories within it.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/batch/\">Azure Batch</a> service provides an environment developers can use to manage their compute resources, and to schedule jobs to run with specific resources and dependencies. Using the <a href=\"https://docs.microsoft.com/en-us/cli/azure/batch\">batch commands</a> in Azure CLI 2.0, you can create Azure Batch accounts, applications, and application packages in that account. You can also create jobs, tasks and job schedules to run at specific times, and manage (create, update, delete) them directly from the command line.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/key-vault/key-vault-whatis\">Azure Key Vault</a> helps safeguard cryptographic keys and secrets used by cloud applications and services. Developers and security administrators can generate keys, store and access them, set policies, and monitor their usage using this service. Using the <a href=\"https://docs.microsoft.com/en-us/cli/azure/keyvault\">keyvault commands</a> in Azure CLI 2.0, you can create/delete a key vault, manage certificates, policies, import and create new keys, and set secrets to key vaults.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/sql-database/\">Azure SQL Database</a> is a relational database-as-a-service using the Microsoft SQL Server engine. Using the <a href=\"https://docs.microsoft.com/en-us/cli/azure/sql\">SQL commands</a> in Azure CLI 2.0, you can manage all aspects of this service from the command line: create/delete/update SQL server, create/delete/update databases and data warehouses and scale them individually by creating elastic pools and moving databases in and out of shared pools, etc.</p>\n\n<p>In addition to the above commands being generally available, the new release also contains command modules for dev/test labs (<em>lab</em>) and monitoring (<em>monitor</em>) services that are now available in preview mode.</p>\n\n<h2>New features in Azure CLI 2.0</h2>\n\n<p>This release also contains some new features that will make working with the Azure CLI easier and more productive.</p>\n\n<p>&ldquo;Az find&rdquo; is a new command for searching Azure CLI 2.0 commands based on simple text. As the number of commands and coverage of Azure services grows in Azure CLI 2.0, we recognize that it may become hard for developers to find the commands they need for specific tasks.</p>\n\n<p>For example, the following command finds all Azure CLI 2.0 commands that contains the text &ldquo;arm,&rdquo; &ldquo;template,&rdquo; or &ldquo;deploy.&rdquo;</p>\n\n<pre class=\"prettyprint\">\naz find -q arm template deploy\n\n`az monitor autoscale-settings get-parameters-template`\n    Scaffold fully formed autoscale-settings&#39; parameters as json\n    template\n\n`az group export`\n    Captures a resource group as a template.\n\n`az group`\n    Manage resource groups and template deployments.\n\n`az group deployment export`\n    Export the template used for the specified deployment.\n\n`az group deployment create`\n    Start a deployment.\n\n`az group deployment validate`\n    Validate whether the specified template is syntactically correct\n    and will be accepted by Azure Resource Manager.\n\n`az vm capture`\n    Captures the VM by copying virtual hard disks of the VM and\n    outputs a template that can be used to create similar VMs.\n    For an end-to-end tutorial, see https://docs.microsoft.com/azure\n    /virtual-machines/virtual-machines-linux-capture-image.\n\n`az keyvault certificate get-default-policy`\n    Get a default policy for a self-signed certificate\n    This default policy can be used in conjunction with `az keyvault\n    create` to create a self-signed certificate. The default policy\n    can also be used as a starting point to create derivative\n    policies.   Also see: https://docs.microsoft.com/en-\n    us/rest/api/keyvault/certificates-and-policies\n\n`az keyvault certificate create`\n    Creates a new certificate version. If this is the first version,\n    the certificate resource is created.\n    Create a Key Vault certificate. Certificates can also be used as a\n    secrets in provisioned virtual machines.\n\n`az vm format-secret`\n    Format secrets to be used in `az vm create --secrets`\n    Transform secrets into a form consumed by VMs and VMSS create via\n    --secrets.\n</pre>\n\n<p>You can now set global defaults and scope for specific variables and resources that you need to use repeatedly within a command line session. You can set these defaults using the &ldquo;az configure&rdquo; command:</p>\n\n<pre class=\"prettyprint\">\naz configure --defaults group=MyResourceGroup</pre>\n\n<p>This sets the resource group to &ldquo;MyResourceGroup&rdquo; so that you don&rsquo;t need to supply it as a parameter in subsequent commands that require this parameter. For example, you could then run the &ldquo;vm show&rdquo; command without explicitly specifying the resource group parameter:</p>\n\n<pre class=\"prettyprint\">\naz vm show -n MyLinuxVM\n\nName       ResourceGroup    Location\n---------  ---------------  ----------\nMyLinuxVM  MyResourceGroup  westus2\n</pre>\n\n<p>You can also specify multiple defaults by listing them in &lt;resource name=value&gt; pairs in the &ldquo;az configure&rdquo; command, and you can reset them by simply setting an empty value in the configure command.</p>\n\n<h2>Start using Azure CLI 2.0 today!</h2>\n\n<p>Whether you are an existing CLI user, or you are starting a new Azure project, it&rsquo;s easy to get started with the CLI <a href=\"https://docs.microsoft.com/en-us/cli/azure/install-azure-cli\">directly</a>, or use the <a href=\"https://github.com/azure/azure-cli-shell#installation\">interactive mode</a> to master the command line with our updated <a href=\"https://docs.microsoft.com/en-us/cli/azure/\">docs and samples</a>.</p>\n\n<p>Azure CLI 2.0 is open source and on <a href=\"https://github.com/azure/azure-cli\">GitHub</a>.</p>\n\n<p>In the next few months, we&rsquo;ll provide more updates. As ever, we want your ongoing feedback! Customers using the commands, that are now in GA release, in production can contact Azure Support for any issues, reach out via StackOverflow using the azure-cli tag, or email us directly at azfeedback@microsoft.com. You can also use the &quot;az feedback&quot; command directly from within the CLI to send us your feedback.</p>\n"
}
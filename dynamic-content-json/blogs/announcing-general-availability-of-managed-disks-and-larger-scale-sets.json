{
    "Slug": "announcing-general-availability-of-managed-disks-and-larger-scale-sets",
    "Title": "Announcing general availability of Managed Disks and larger Scale Sets",
    "Summary": "Today, I am excited to announce the general availability of Managed Disks. With this PaaS-like support, you no longer need to be concerned with the complexity of storage management nor worry about storage as you scale. Yet, you still have the full power and control you expect and love with Azure VMs â€“ a \"PaaS bridge\" on our IaaS VMs.",
    "Content": "<p>I love it that so many of you enjoy both our Infrastructure-as-a-service (IaaS) and Platform-as-a-service (PaaS) services. In fact, over 55% of our IaaS customers also benefit from PaaS services. With this deep experience in both PaaS and IaaS, we can take insights from our PaaS services, like the agile benefit of automated management and scale, and apply it to improve our infrastructure services. Today, I am excited to announce one such insight with the general availability of <a href=\"https://go.microsoft.com/fwlink/?linkid=841787\">Managed Disks</a>. With this PaaS-like support, you no longer need to be concerned with the complexity of storage management nor worry about storage as you scale. Yet, you still have the full power and control you expect and love with Azure VMs &ndash; a &quot;PaaS bridge&quot; on our IaaS VMs.</p>\n\n<p>This not only simplifies the management of every VM created, it is exponentially helpful when deploying at cloud-scale with VM Scale Sets. <a href=\"https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview\">Azure VM scale sets</a> (VMSS) are a powerful way to reliably deploy massive cloud infrastructure without the overhead of coordinating multiple resources. With Scale sets, you can simplify the management of your applications with automated application scale and load-balancer integration. Today&rsquo;s announcement extends these platform features to include automated disk management, enabling simpler storage management and even larger scale. With Managed Disks, you can now attach data disks to every instance and create a VM scale set of up to <strong>1,000 VMs</strong>, a 10X increase.</p>\n\n<p>These capabilities are just the beginning to bring the agility of PaaS to the comfort of IaaS. I look forward to announcing additional capabilities coming later this year, including OS patching support, application lifecycle integration, application health monitoring, and load-balancer app health integration.</p>\n\n<p>The sections below elaborate on the key benefits of Managed Disks and VM Scale Sets.</p>\n\n<h2>Management</h2>\n\n<p>Managed Disks free you from storage account scale management.&nbsp; Managed Disks are Azure Resource Manager (ARM) resources, can be fully templatized, and support both <a href=\"https://go.microsoft.com/fwlink/?linkid=841248\">Standard</a> and <a href=\"https://go.microsoft.com/fwlink/?linkid=841747\">Premium</a> Disk types. You only need to specify the size and type of the disk you want. You can create thousands of Managed Disks without worrying about the storage account and without having to specify any disk details. You can create a blank disk, create one from a VHD in a storage account, or create one from an image as part of VM creation. You can even migrate an existing Azure Resource Manager VM to a VM with managed disks with just a single reboot. You don&rsquo;t have to worry about reconfiguring your networking or your security rules to start using the powerful new capability.</p>\n\n<p>In addition to the new Managed Disk resource, we also have added Snapshots and Images as Azure Resource Managed resources.</p>\n\n<h3><em>Snapshot and Backup</em></h3>\n\n<p>With today&rsquo;s launch, you can also take a Disk <strong>Snapshot</strong> and maintain it as an Azure Resource Manager resource. With snapshots, you can back up your Managed Disks at any point-in-time. These Snapshots exist independent of the source disk and can be used to create new Managed Disks. You can also use the <a href=\"https://docs.microsoft.com/en-us/azure/backup/backup-introduction-to-azure-backup\">Azure Backup service</a> with Managed Disks to create a backup job with time-based backups, easy VM restoration, and backup retention policies.</p>\n\n<h3><em>Image </em></h3>\n\n<p>Managed Disks also support creating a managed custom <strong>Image</strong>. You can create an Image from your custom VHD in a storage account or directly from a running VM. This captures in a single Image, all Managed Disks associated with a running Virtual Machine, including both the OS and Data Disks. This even enables deploying a large VM Scale Set with hundreds of VMs using your custom Image, without the need to copy to or manage any storage accounts.</p>\n\n<blockquote>\n<p>&ldquo;The new Managed Disks significantly reduces code complexity and simplifies the management of disks. Managed Disks will enable us to expand upon our current database-as-a-service offering on Azure with new MongoDB plan types to help meet the demanding workloads of our users.&rdquo; - Sean Hyrich, mLab</p>\n</blockquote>\n\n<h3><em>Creating a VM</em></h3>\n\n<p>Using the <a href=\"https://docs.microsoft.com/en-us/powershell/azureps-cmdlets-docs/\">Azure PowerShell</a> or <a href=\"https://github.com/azure/azure-cli\">AZ CLI</a>, you can easily create a VM with Managed Disks. Below is an example of a CLI command to create a VM with a managed OS disk and a 128 GB managed data disk. You no longer specify a Storage account for either the OS disk or data disk.</p>\n\n<pre class=\"prettyprint\">\n$ az vm create -g myResourceGroup -n myLinuxVM --image RHEL --size Standard_DS3_v2 --data-disk-sizes-gb 128</pre>\n\n<p>You can also easily create a VM with Managed Disks in the portal by selecting, &ldquo;Use managed disks:&rdquo;</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b726fcd7-f278-4674-897e-dbc19c812d27.png\"><img alt=\"Microsoft Azure Create virtual machine\" border=\"0\" height=\"480\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b638c45a-41a9-44bc-900b-76890c3181b3.png\" style=\"border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"Microsoft Azure Create virtual machine\" width=\"554\"></a></p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/virtual-machines-windows-ps-create\">Here</a> is an example of creating a Windows VM with Managed OS disk using <a href=\"https://docs.microsoft.com/en-us/powershell/azureps-cmdlets-docs/\">Azure PowerShell</a>. You will notice that now you don&rsquo;t specify a Storage account. You can also programmatically create a virtual machine with Managed Disks using Azure Management Libraries for <a href=\"https://azure.microsoft.com/en-us/blog/java-manage-azure-managed-disks/\">Java</a> and <a href=\"https://azure.microsoft.com/en-us/blog/net-manage-azure-managed-disks/\">.NET</a>.</p>\n\n<h2>Scale</h2>\n\n<p>Today, you can now deploy up to <strong><a href=\"https://azure.microsoft.com/en-us/services/virtual-machine-scale-sets/\"><strong>1,000 VMs</strong> in a Scale Set</a></strong> based on platform images, a 10x scale improvement. This enables you to deploy and manage a single cluster, like a large-scale Hadoop, DataSynapse, Cassandra, or IIS deployment. Additionally, if you need load balancing at this scale, you can deploy with an Azure Application Gateway for layer-7 load-balancing.</p>\n\n<blockquote>\n<p>&ldquo;Elasticsearch, the leading open source data search solution, allows companies to explore anywhere from gigabytes to petabytes of data in real-time. Managed Disks and expanded VM Scale Sets will help Azure users deploy Elasticsearch clusters at very large scale&rdquo; - Martijn Laarman, Elastic Software Developer</p>\n</blockquote>\n\n<p>Here is how you can easily create a 1,000 VM scale set:</p>\n\n<pre class=\"prettyprint\">\n$ az vmss create -g myResourceGroup  -n myVMSSName --image ubuntuLTS --instance-count 1000</pre>\n\n<h2>Application support for scale sets</h2>\n\n<p>VM scale sets now support <a href=\"https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-attached-disks\"><strong>attached data disks</strong></a>. When you define a scale set you can create as many attached disks as the <a href=\"https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits\">VM size supports</a>. This allows more data-intensive analytics and search applications to take advantage of the management and scalability benefits of scale sets.</p>\n\n<h2>Security</h2>\n\n<p>Because Managed Disks, Snapshots, and Images are Azure Resource Manager resources, you can now apply granular access control using <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-what-is\"><strong>Azure RBAC</strong></a> on each. Managed Disks expose a variety of operations such as read, write (create/update), delete, and export. You can now grant access to only the operations that a person needs to perform his/her job. You can even create <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles\">custom roles</a> and only grant the permissions to best suit your requirements.</p>\n\n<p>You can also encrypt Managed Disks using <a href=\"https://docs.microsoft.com/en-us/azure/security/azure-security-disk-encryption\"><strong>Azure Disk Encryption</strong></a> with Customer-managed or Microsoft-managed keys.</p>\n\n<blockquote>\n<p>&quot;Through providing disk as a managed logical resource, Managed Disk brings our customers an enhanced, easy to use and more secure experience. We can now define role-based access controls for the Disks.&quot; - Jesper Jensen, Solvo IT</p>\n</blockquote>\n\n<h2>Migration</h2>\n\n<p>Managed Disks comes with easy migration capability from existing unmanaged Azure Resource Manager VMs to Managed Disks VMs without the need to recreate the VM, preserving the configuration and security of that VM. After initiating migration, the VM become available immediately after rebooting. You have full control of the migration and can choose to migrate one VM at a time or plan the migration to be scripted on all of your VMs at once.</p>\n\n<p>You can now also migrate your Managed Disks from Standard to Premium in an easy way. With Managed Disks, if you stop your VM, you can change the account type of your disks without deleting or reconfiguring the VM. The changed disks become available immediately to restart your VM. Here are&nbsp;more&nbsp;details on how to execute the above <a href=\"https://go.microsoft.com/fwlink/?linkid=838990\">migration options</a>.</p>\n\n<blockquote>\n<p>&ldquo;Performance limits and proper naming to distribute accounts in different stamps need to be considered for a proper design. With Managed Disks, we&rsquo;ve seen the light, they put to rest all these concerns and let us and our customers concentrate on our business. That&rsquo;s not all, Managed Disks come with the migration capability, where I can migrate my Virtual Machines to Managed Disks with a single reboot.&rdquo; --Daniele Grandini, Progel</p>\n</blockquote>\n\n<h2>Pricing</h2>\n\n<p>You can visit the <a href=\"https://go.microsoft.com/fwlink/?linkid=841793\">Azure Storage Pricing</a> page for more details for Managed Disks. The pricing of Premium Managed Disks is the same as Premium Unmanaged Disks. Standard Managed Disks offer a slightly different pricing model as Standard Unmanaged Disks with pricing based upon the provisioned disk size. Given the change, we are offering a 50% promotional discount on Standard Managed Disks for the first six months.</p>\n\n<h2>Availability Regions</h2>\n\n<p>As of today, Managed Disks are available in all the global regions. Sovereign clouds will have this support in the coming weeks. Discover the <a href=\"https://azure.microsoft.com/en-us/regions/services/\">Availability of Managed Disks</a> by regions.</p>\n\n<h2>Getting Started</h2>\n\n<p>I hope you enjoyed this post and really enjoy this new service offering bringing the agility and ease of PaaS management and scale to your IaaS VMs. Give the service a try! We would love to hear your feedback and comments. Deploying infrastructure has never been so much fun.</p>\n\n<p>See ya around,</p>\n\n<p>Corey</p>\n\n<p style=\"margin: 0in 0in 0pt;\">&nbsp;</p>\n\n<p><iframe allowfullscreen=\"\" frameborder=\"0\" height=\"315\" src=\"https://channel9.msdn.com/Blogs/Regular-IT-Guy/Azure-Managed-Disks-demo/player\" width=\"560\"></iframe></p>\n\n<h3>Learn more about Managed Disks:</h3>\n\n<ul>\n <li><a href=\"https://go.microsoft.com/fwlink/?linkid=841748\">Getting started</a></li>\n <li><a href=\"https://azure.microsoft.com/en-us/blog/java-manage-azure-managed-disks/\">Azure Management Libraries for Java</a></li>\n <li><a href=\"https://azure.microsoft.com/en-us/blog/net-manage-azure-managed-disks/\">Azure Management Libraries for .NET</a></li>\n <li><a href=\"https://azure.microsoft.com/en-us/blog/azure-cli-managed-disks/\">Azure CLI V2</a></li>\n <li><a href=\"https://go.microsoft.com/fwlink/?linkid=841747\">Premium Managed Disks</a></li>\n <li><a href=\"https://go.microsoft.com/fwlink/?linkid=841248\">Standard Managed Disks</a></li>\n <li><a href=\"https://go.microsoft.com/fwlink/?linkid=841554\">Managed Disks FAQ</a></li>\n <li><a href=\"https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview\">VM Scale Set overview</a></li>\n <li><a href=\"https://go.microsoft.com/fwlink/?linkid=838990\">Migrate to Managed Disks</a></li>\n <li><a href=\"https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-attached-disks\">Azure VM scale sets and attached data disks</a></li>\n</ul>\n"
}
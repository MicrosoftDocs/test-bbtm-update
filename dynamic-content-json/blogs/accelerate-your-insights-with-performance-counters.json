{
    "Slug": "accelerate-your-insights-with-performance-counters",
    "Title": "Accelerate your insights with Application Insights Performance Counters",
    "Summary": "You can now monitor performance counters for Azure Web Apps using Visual Studio Application Insights.",
    "Content": "<p>You can now monitor performance counters for <a href=\"https://azure.microsoft.com/services/app-service/web/\">Azure Web Apps</a> using <a href=\"https://azure.microsoft.com/services/application-insights/\">Visual Studio Application Insights</a>. Until recently, Performance Counters such as CPU and network usage weren&rsquo;t available on the <a href=\"https://portal.azure.com\">Azure portal</a> when monitoring your app. This is because Azure Web Apps don&rsquo;t run on their own machines. Our new <a href=\"https://github.com/Microsoft/ApplicationInsights-SDK-Labs/tree/master/AggregateMetrics\">Aggregate Metrics</a> package adds this telemetry, so you can now monitor your app&rsquo;s use of resources as workload varies.</p>\n\n<p>To get started, simply install the <a href=\"https://www.myget.org/gallery/applicationinsights-sdk-labs\">Aggregate Metrics prerelease NuGet package</a> in your app. This package is now in the <a href=\"https://github.com/Microsoft/ApplicationInsights-SDK-Labs/blob/master/README.md\">SDK Labs feed</a>. You should then be able to view the below performance charts in your <a href=\"https://azure.microsoft.com/documentation/articles/app-insights-metrics-explorer/\">Application Insights Metrics Explorer</a> within the <a href=\"https://portal.azure.com\">Azure portal</a>.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1efe9490-4e85-416e-8268-7ea260827e6b.png\"><img alt=\"Performance Counters in action\" border=\"0\" height=\"387\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1d1ad430-4c8e-48e5-9dcb-9e28d6d7c1f2.png\" style=\"border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"Accelerate your insights\" width=\"556\"></a></p>\n\n<p><a href=\"https://azure.microsoft.com/en-us/services/app-service/web/\">Azure Web Apps</a> have continued to allow you to host whatever web app, website, and API in the Azure cloud, all while maintaining a plethora of capabilities such as Visual Studio integration, ease of deployment, and agility. In a nutshell, Azure Web Apps are simple to deploy and run.</p>\n\n<p>However, there are limitations when it comes to monitoring your Azure Web App&rsquo;s performance while it runs on the cloud. Web pages and apps are run in a sandbox environment, separating them from other apps running on the same machine. For developers, this sandbox is ultimately a tradeoff for the low monetary cost of using Azure Web Apps. The sandbox also prevents your app from accessing Performance Counters and using <a href=\"https://technet.microsoft.com/library/cc749249(v=ws.11).aspx\">Performance Monitor</a>. On your desktop, Performance Monitor provides a comprehensive selection of metrics with easy to interpret visualization</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/843a8133-b517-4c64-93af-ad78a2b0e7e9.png\"><img alt=\"perfMon\" border=\"0\" height=\"438\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6c41dda2-c1c0-443e-a707-34a3719361fc.png\" style=\"border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"perfMon\" width=\"610\"></a></p>\n\n<p>Until now, there were <a href=\"https://azure.microsoft.com/documentation/articles/web-sites-monitor/\">few metrics</a> available for gaining insights on the performance of your Azure Web App, and those few metrics available gave nowhere near the comprehensiveness of Performance Monitor.</p>\n\n<p>The Application Insights team saw the need for more complete feedback on web app performance, and we&rsquo;re proud to announce that we&rsquo;ve added a solution to <a href=\"https://github.com/Microsoft/ApplicationInsights-SDK-Labs\">Application Insights&rsquo; SDK Labs</a> that collects Performance Counters and visualizes them on the Azure portal through Application Insights. The <a href=\"https://github.com/Microsoft/ApplicationInsights-SDK-Labs/tree/master/AggregateMetrics\">Aggregate Metrics</a> solution contains several different Performance Counters, such as memory being used and the percentage of the CPU&rsquo;s processor being used.&nbsp; Currently, Performance Counters currently provide historical data, with <a href=\"https://azure.microsoft.com/blog/live-metrics-stream/\">Live Metrics Stream</a> implementation planned for future development.</p>\n\n<h2>Custom Performance Counters</h2>\n\n<p>We have also implemented custom performance counters, such as thread and handle count, to provide even more detailed insights into app performance. These counters are specific and can be added independently to a project based on your app&rsquo;s needs. At the moment there are few custom counters, as their availability is limited by provided content from the Azure Web Apps team. To <a href=\"https://github.com/Microsoft/ApplicationInsights-SDK-Labs/blob/master/AggregateMetrics/README.md\">get started</a> with Custom Counters, you only need to adjust the ApplicationInsights.config file, <a href=\"https://azure.microsoft.com/documentation/articles/app-insights-web-monitor-performance/#system-performance-counters\">just like would for other performance monitors</a>.</p>\n\n<h2>Microsoft Intern Program</h2>\n\n<p>Performance Counters have been an ongoing project developed by two of Application Insights&rsquo; summer interns: myself, <a href=\"https://github.com/frackleton\">Mackenzie Frackleton,</a> and <a href=\"https://github.com/mateoatr\">Mateo Torres Ruiz</a>. Click through to our GitHub profiles to see our latest developments.</p>\n\n<h2>Summary</h2>\n\n<p>Performance Counters are now available to provide metrics for Azure Web App telemetry. We always want to hear your feedback, so please visit the Application Insights SDK Labs repository <a href=\"https://github.com/Microsoft/ApplicationInsights-SDK-Labs/issues\">here</a> for issues or feature requests. The Application Insights team as a whole is committed to providing quality tools for developers. Any additional <a href=\"https://visualstudio.uservoice.com/forums/357324\">feedback or new feature recommendations</a> is welcome.</p>\n"
}
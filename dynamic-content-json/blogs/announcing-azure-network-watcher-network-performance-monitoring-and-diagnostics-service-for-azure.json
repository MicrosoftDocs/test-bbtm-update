{
    "Slug": "announcing-azure-network-watcher-network-performance-monitoring-and-diagnostics-service-for-azure",
    "Title": "Announcing Azure Network Watcher – Network Performance Monitoring and Diagnostics Service for Azure",
    "Summary": "Have you ever felt the need to diagnose a critical problem and you needed access to packet data from a virtual machine? What if you could capture the packet data from a virtual machine in just a few…",
    "Content": "<p>Have you ever felt the need to diagnose a critical problem and you needed access to packet data from a virtual machine? What if you could capture the packet data from a virtual machine in just a few clicks? How about the ability to log flow data for Network Security Groups, visualize and interpret the information with a tooling platform of your choice?</p>\n\n<p>With Azure Network Watcher, you can now access a plethora of logging and diagnostic capabilities that empower you with insights to understand your network performance and health. These capabilities are accessible via Portal, Power Shell, CLI, Rest API and SDK.</p>\n\n<h2>What does Network Watcher enable for you?</h2>\n\n<h3>Topology</h3>\n\n<p>You can now view the network topology of your deployments with just a few clicks. For example, the figure below represents the network topology of a simple web application deployed on Azure. With Network Watcher, you can now visualize the complete network topology of your application.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/631e1f19-bc85-4a50-b2cc-231d5c25f461.png\"><img alt=\"Sample topology view of a web application\" border=\"0\" height=\"259\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5b08fa2f-fea7-4de3-a436-44ea9cb9b462.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto\" title=\"Sample topology view of a web application\" width=\"609\"></a></p>\n\n<p align=\"center\"><em>Sample topology view of a web application</em></p>\n\n<h3 align=\"left\">IP flow verify</h3>\n\n<p>A common diagnostic need is to check whether a flow is allowed or denied to or from a virtual machine. Using &ldquo;IP flow verify&rdquo; you can now validate if a flow (combination of source IP, destination IP, source port, destination port and protocol) is allowed or denied. You will also be provided with the specific Network Security Group and security rule allowing or denying the flow in question.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/966caa2c-ab8f-483a-afef-f7b07eecb5a0.png\"><img alt=\"Validate IP\" border=\"0\" height=\"583\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6d8d7d22-01e9-4e67-acac-93ef36084606.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto\" title=\"Validate IP\" width=\"790\"></a></p>\n\n<p align=\"center\"><em>Validate IP flow from the Portal</em></p>\n\n<h3>Next hop</h3>\n\n<p>Typical issues with network connectivity is misconfiguration of user defined routes. Next hop provides the ability to get the next hop type and IP address based on a specified virtual machine, allowing you to investigate any route being black-holed and conditions caused by incorrect configuration.</p>\n\n<p align=\"center\"><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0fc78b56-5031-4e99-a08c-e06ba785a4a8.png\"><img alt=\"Next Hop\" border=\"0\" height=\"587\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c99a5790-1216-4407-aa19-4e389eceac83.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto\" title=\"Next Hop\" width=\"761\"></a><em>Get next hop from the Portal</em></p>\n\n<h3 align=\"left\">Security Group view</h3>\n\n<p align=\"left\">Auditing your network security is vital for detecting network vulnerabilities and ensuring compliance with your IT security and regulatory governance model.</p>\n\n<p align=\"left\">With Security Group view, you can retrieve the configured Network Security Group and security rules, as well as the effective security rules. With the list of rules applied, you can determine the ports that are open and assess network vulnerability.</p>\n\n<p align=\"left\">In addition, your IT security and compliance governance can define prescriptive security rules that can now be programmatically audited using this feature.</p>\n\n<p align=\"left\">As an example, PCI DSS compliance emphasizes the need to store logs and review logs that perform security functions such as firewalls. The primary intent for this is to identify anomalies and suspicious activity. With a combination of flow logs, Security Group view and Azure Automation, periodic and frequent audit can be done in a <a href=\"https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-nsg-auditing-powershell\">programmatic manner</a>. You can detect and alert on suspicious and anomalous activity.</p>\n\n<p align=\"left\"><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/196880a8-58ba-4a8d-a357-c459e5e1954d.png\"><img alt=\"Security Group view\" border=\"0\" height=\"474\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/67790585-aac8-4198-a2ee-adf7d6568208.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto\" title=\"Security Group view\" width=\"818\"></a></p>\n\n<p align=\"center\"><em>Network Security Group view for a virtual machine from the Portal</em></p>\n\n<h3>Packet capture</h3>\n\n<p>Capturing and accessing packet data enables you to address various needs from diagnosing a connectivity issue to network security and compliance. With Network Watcher, you can trigger packet capture on virtual machines. Applying advanced rule matching options, you can capture packets that have a specific source IP, destination IP, source port or destination port, or a byte offset from the start of the packet &ndash; even a combination of all the above. This feature is supported on both Windows and Linux virtual machines.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a7722880-39d1-4042-8dc4-9c617595a249.png\"><img alt=\"Packet capture\" border=\"0\" height=\"802\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7ba004e0-c16c-4e97-adac-de32d4daad3c.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto\" title=\"Packet capture\" width=\"535\"></a></p>\n\n<p align=\"center\"><em>Configuring packet capture from the Portal</em></p>\n\n<h3>Network Subscription limits</h3>\n\n<p>You can now view the usage of network resources against the limits in your subscription.</p>\n\n<p align=\"center\"><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/aa0200d6-1e59-48c2-a80d-e2185d215d0a.png\"><img alt=\"Network Sub Limit\" border=\"0\" height=\"626\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4b4a2f97-f726-43d1-a825-4c75eed85a3c.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto\" title=\"Network Sub Limit\" width=\"825\"></a><em>View limits for network resources in your subscription in a region</em></p>\n\n<h3 align=\"left\">NSG flow logs</h3>\n\n<p align=\"left\">Flow data is a critical component for diagnosing and validating your Network Security Group configurations. You can now enable logging of NSG flow data that is allowed or denied per Network Security Group setting to help meet these needs. The NSG flow information includes timestamp, source IP, destination IP, source port, destination port and protocol, the Network Security Group and the security rule. This data can be ingested and visualized by Microsoft tools such as Power BI, as well as security information and event management tools provided by 3rd party partners and open source tools.</p>\n\n<p align=\"left\"><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0264a46a-1f2e-4bd0-b05b-7e5fa627644a.png\"><img alt=\"NSG Flow\" border=\"0\" height=\"523\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7c2b1a48-d8ae-478f-bce9-ad403d9a3d3f.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto\" title=\"NSG Flow\" width=\"780\"></a></p>\n\n<p align=\"center\"><em>Configuring NSG flow logs from the Portal</em></p>\n\n<p align=\"center\"><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ba432ff2-89f1-4cc0-b5d2-e043b35e7039.png\"><img alt=\"Power BI Dashboard\" border=\"0\" height=\"593\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6a69ee06-a027-4ad9-8c0e-005493c8f4eb.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px\" title=\"Power BI Dashboard\" width=\"787\"></a></p>\n\n<p align=\"center\"><em>A sample Power BI dashboard with the ingested flow log </em></p>\n\n<h3 align=\"left\">Diagnostic logs</h3>\n\n<p align=\"left\">You can now configure diagnostic logs for all the network resources in a resource group from a single pane.</p>\n\n<p align=\"left\"><br>\n<a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/cba4713e-0c25-4e99-bed9-3bb723f88623.png\"><img alt=\"Diagnostic logs\" border=\"0\" height=\"477\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1dccde4c-81a4-4e8c-ab4b-04cb73aa4814.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto\" title=\"Diagnostic logs\" width=\"853\"></a></p>\n\n<p align=\"center\"><em>Configuring Diagnostic logs for network resources in a resource group </em></p>\n\n<h3>Virtual Network Gateway Connectivity Troubleshooting</h3>\n\n<p>A Virtual Network Gateway provides connectivity between your on-premises site and Azure VNets. Network Watcher will enable you to troubleshoot issues due to connectivity. A comprehensive suite of built-in tests are executed to isolate over fifteen different fault conditions and the results are logged in a customer specified storage. The log contains information such as connection status, bytes sent/received, IKE errors and WFP logs.</p>\n\n<h3>Integration with Azure Services</h3>\n\n<p>Using the native capabilities offered by Network Watcher, you can build powerful end to end network monitoring scenarios using Azure services like <a href=\"https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-monitor-with-azure-automation\">Azure Automation</a>, <a href=\"https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-alert-triggered-packet-capture\">Azure Functions</a> and <a href=\"https://docs.microsoft.com/en-us/azure/log-analytics/log-analytics-azure-networking-analytics?toc=%2fazure%2fnetwork-watcher%2ftoc.json\">Azure Log Analytics</a>.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b3690ef5-6e11-4045-b106-1c5c4b8b38a6.png\"><img alt=\"VPN Connection\" border=\"0\" height=\"512\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/beb1abef-7ea0-48ae-8404-4f28126e8ebf.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto\" title=\"VPN Connection\" width=\"871\"></a></p>\n\n<p align=\"center\"><em>Proactive monitoring of VPN connection using Azure Automation and Network Watcher</em></p>\n\n<h3>Partners and ecosystem integration</h3>\n\n<p>We have partnered with the following 3rd party tool providers to integrate their products with Network Watcher and provide you with a holistic experience in monitoring your network in Azure.</p>\n\n<p><strong>Splunk</strong> have built an operational intelligence platform by turning data generated from Network Watcher into <a href=\"https://blogs.splunk.com/2017/02/20/splunking-microsoft-azure-network-watcher-data\">valuable insights</a>.</p>\n\n<p><strong>Observable</strong> <strong>Networks </strong>have integrated the packet capture capability of Network Watcher with their <a href=\"https://observable.net/trial-observable-azure-network-watcher/\">ONA platform (Observable Network Appliance)</a> to detect security issues in your virtual machine.</p>\n\n<p><strong>Bryan Doerr, CEO of Observable Networks</strong> said, <em>&ldquo;We&rsquo;re excited that the results of our continuous and close collaboration with Microsoft are now reaching our mutual customers. Digital transformation and the fast-growing transition to cloud platforms, like Azure, are creating demand for new cloud native security services.&quot;</em></p>\n\n<p><strong>Sumo Logic</strong> provides a machine data analytics platform that can ingest flow data for Network Security Groups to help you understand <a href=\"https://www.sumologic.com/blog-using-sumo/analyze-azure-network-watcher-flow-logs-sumo-logic/\">network vulnerabilities</a>.</p>\n\n<p><strong>Kalyan Ramanathan, VP of Product Marketing at Sumo Logic</strong> said,<em> &ldquo;The cloud is changing the IT landscape. New business models, rapidly changing innovation and operations are driving a new set of needs. We are pleased to be teaming with Microsoft to further enhance the cloud experience for our mutual customers. Sumo Logic Machine Data analytics solution provides real-time operational insights into today&rsquo;s modern applications with deep Microsoft Azure Integration, to help customers address the volume, variety and velocity of cloud generated data.&rdquo;</em></p>\n\n<h3>Open source tools</h3>\n\n<p>Your network monitoring needs can be augmented by open source tools such as CapAnalysis, Suricata and the Elastic Stack (Elasticsearch, Logstash and Kibana). We hope you will be able to leverage and build on the sample integration scenarios for <a href=\"https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-using-open-source-tools\">visualizing packet captures</a>, <a href=\"https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-deep-packet-inspection\">network intrusion detection</a> and <a href=\"https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-visualize-nsg-flow-logs-open-source-tools\">visualizing flow logs</a>.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5a84ea8e-a5e6-4f5c-b249-789de8468fde.png\"><img alt=\"Network Watcher\" border=\"0\" height=\"613\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7582c8cc-de3f-4b91-bc11-04563aaadef8.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto\" title=\"Network Watcher\" width=\"732\"></a></p>\n\n<p align=\"center\"><em>A sample dashboard highlighting network intrusion &ndash; integrating Network Watcher, Suricata and the Elastic Stack</em></p>\n\n<h3>Network Watcher availability</h3>\n\n<p>Azure Network Watcher is available now in preview in the following regions &ndash; US West Central, US North Central&nbsp;and US West. We are in the process of rolling out Network Watcher the rest of Azure regions around the world.</p>\n\n<h3>How much does it cost?</h3>\n\n<p>We understand the current capabilities in Network Watcher are critical to a variety of your needs from diagnostics to security and compliance. These capabilities will be available free with your subscription during the preview. <a href=\"https://azure.microsoft.com/en-us/pricing/details/storage/blobs/\">Standard storage costs</a> are applicable in certain cases.</p>\n\n<p>Your requirements and requests for an integrated solution and tooling is at the center of building this advanced network monitoring capability in Azure. Your <a href=\"https://feedback.azure.com/forums/217313-networking\">feedback</a> from using Network Watcher is vital to help steer the product development and eco system growth.</p>\n\n<p>Enjoy the preview!</p>\n"
}